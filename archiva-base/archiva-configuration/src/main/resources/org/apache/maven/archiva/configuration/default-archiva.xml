<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <repositories>
    <repository>
      <id>internal</id>
      <name>Archiva Managed Internal Repository</name>
      <url>file://${appserver.home}/repositories/internal</url>
      <layout>default</layout>
      <releases>true</releases>
      <snapshots>false</snapshots>
      <indexed>true</indexed>
      <refreshCronExpression>0 0 * * ?</refreshCronExpression>
    </repository>
    <repository>
      <id>snapshots</id>
      <name>Archiva Managed Snapshot Repository</name>
      <url>file://${appserver.home}/repositories/internal</url>
      <layout>default</layout>
      <releases>false</releases>
      <snapshots>true</snapshots>
      <indexed>true</indexed>
      <refreshCronExpression>0 0,30 * * ?</refreshCronExpression>
    </repository>
    <repository>
      <id>central</id>
      <name>Central Repository</name>
      <url>http://repo1.maven.org/maven2</url>
      <layout>default</layout>
      <releases>true</releases>
      <snapshots>false</snapshots>
      <indexed>false</indexed>
    </repository>
    <repository>
      <id>maven2-repository.dev.java.net</id>
      <name>Java.net Repository for Maven 2</name>
      <url>https://maven2-repository.dev.java.net/nonav/repository</url>
      <layout>default</layout>
      <releases>true</releases>
      <snapshots>false</snapshots>
      <indexed>false</indexed>
    </repository>
  </repositories>
  <proxyConnectors>
    <proxyConnector>
      <sourceRepoId>internal</sourceRepoId>
      <targetRepoId>central</targetRepoId>
      <proxyId />
      <snapshotsPolicy>disabled</snapshotsPolicy>
      <releasePolicy>never</releasePolicy>
      <failurePolicy>not-found</failurePolicy>
    </proxyConnector>
    <proxyConnector>
      <sourceRepoId>internal</sourceRepoId>
      <targetRepoId>maven2-repository.dev.java.net</targetRepoId>
      <proxyId />
      <snapshotsPolicy>disabled</snapshotsPolicy>
      <releasePolicy>never</releasePolicy>
      <failurePolicy>not-found</failurePolicy>
      <whiteListPatterns>
        <whileListPattern>javax/**</whileListPattern>
      </whiteListPatterns>
    </proxyConnector>
  </proxyConnectors>
  <networkProxies>
  </networkProxies>
  <fileProcessors>
    <fileProcessor>
      <id>artifacts</id>
      <patterns>
        <pattern>**/*.pom</pattern>
        <pattern>**/*.jar</pattern>
        <pattern>**/*.ear</pattern>
        <pattern>**/*.war</pattern>
        <pattern>**/*.car</pattern>
        <pattern>**/*.sar</pattern>
        <pattern>**/*.mar</pattern>
        <pattern>**/*.rar</pattern>
        <pattern>**/*.dtd</pattern>
        <pattern>**/*.tld</pattern>
        <pattern>**/*.tar.gz</pattern>
        <pattern>**/*.tar.bz2</pattern>
        <pattern>**/*.zip</pattern>
      </patterns>
      <consumers>
        <consumer>artifact-to-db</consumer>
        <consumer>artifact-to-lucene</consumer>
        <consumer>artifact-create-missing-checksums</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>projects</id>
      <patterns>
        <pattern>**/*.pom</pattern>
      </patterns>
      <consumers>
        <consumer>project-to-db</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>repository-metadata</id>
      <patterns>
        <pattern>**/maven-metadata.xml</pattern>
      </patterns>
      <consumers>
        <consumer>repository-metadata-to-db</consumer>
        <consumer>repository-metadata-version-mismatch</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>checksums</id>
      <patterns>
        <pattern>**/*.sha1</pattern>
        <pattern>**/*.md5</pattern>
      </patterns>
      <consumers>
        <consumer>checksum-validate</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>signatures</id>
      <patterns>
        <pattern>**/*.asc</pattern>
      </patterns>
      <consumers>
        <consumer>signature-validate</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>archives</id>
      <patterns>
        <pattern>**/*.jar</pattern>
        <pattern>**/*.ear</pattern>
        <pattern>**/*.war</pattern>
        <pattern>**/*.car</pattern>
        <pattern>**/*.sar</pattern>
        <pattern>**/*.mar</pattern>
        <pattern>**/*.rar</pattern>
        <pattern>**/*.tar.gz</pattern>
        <pattern>**/*.tar.bz2</pattern>
        <pattern>**/*.zip</pattern>
        <pattern>**/*.nbm</pattern>
      </patterns>
      <consumers>
        <consumer>archive-toc-to-lucene</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>bytecode</id>
      <patterns>
        <pattern>**/*.jar</pattern>
        <pattern>**/*.war</pattern>
        <pattern>**/*.car</pattern>
        <pattern>**/*.sar</pattern>
        <pattern>**/*.mar</pattern>
        <pattern>**/*.rar</pattern>
      </patterns>
      <consumers>
        <consumer>bytecode-to-db</consumer>
        <consumer>bytecode-to-lucene</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>xmls</id>
      <patterns>
        <pattern>**/*.pom</pattern>
        <pattern>**/*.xml</pattern>
        <pattern>**/*.xsd</pattern>
      </patterns>
      <consumers>
        <consumer>xml-to-lucene</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>text</id>
      <patterns>
        <pattern>**/*.txt</pattern>
        <pattern>**/*.TXT</pattern>
        <pattern>**/*.block</pattern>
        <pattern>**/*.config</pattern>
      </patterns>
    </fileProcessor>
    <fileProcessor>
      <id>ignored</id>
      <patterns>
        <pattern>**/.htaccess</pattern>
        <pattern>**/KEYS</pattern>
        <pattern>**/*.rb</pattern>
        <pattern>**/*.sh</pattern>
        <pattern>**/.svn/**</pattern>
        <pattern>**/.DAV/**</pattern>
      </patterns>
      <consumers>
        <consumer>ignored</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>auto-remove</id>
      <patterns>
        <pattern>**/*.bak</pattern>
        <pattern>**/*~</pattern>
        <pattern>**/*-</pattern>
      </patterns>
      <consumers>
        <consumer>auto-remove</consumer>
      </consumers>
    </fileProcessor>
    <fileProcessor>
      <id>auto-rename</id>
      <patterns>
        <pattern>**/*.distribution-tgz</pattern>
        <pattern>**/*.distribution-zip</pattern>
        <pattern>**/*.plugin</pattern>
      </patterns>
      <consumers>
        <consumer>auto-rename</consumer>
      </consumers>
    </fileProcessor>
  </fileProcessors>
</configuration>
