begin_unit|revision:1.0.0;language:Java;cregit-version:0.0.1
begin_package
package|package
name|org
operator|.
name|apache
operator|.
name|maven
operator|.
name|repository
operator|.
name|proxy
operator|.
name|configuration
package|;
end_package

begin_comment
comment|/*  * Copyright 2005-2006 The Apache Software Foundation.  *  * Licensed under the Apache License, Version 2.0 (the "License");  * you may not use this file except in compliance with the License.  * You may obtain a copy of the License at  *  *      http://www.apache.org/licenses/LICENSE-2.0  *  * Unless required by applicable law or agreed to in writing, software  * distributed under the License is distributed on an "AS IS" BASIS,  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  * See the License for the specific language governing permissions and  * limitations under the License.  */
end_comment

begin_import
import|import
name|java
operator|.
name|text
operator|.
name|DateFormat
import|;
end_import

begin_import
import|import
name|java
operator|.
name|text
operator|.
name|SimpleDateFormat
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|ArrayList
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Collections
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|HashMap
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Iterator
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|List
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|Map
import|;
end_import

begin_import
import|import
name|java
operator|.
name|util
operator|.
name|TimeZone
import|;
end_import

begin_comment
comment|/**  * @author Ben Walding  */
end_comment

begin_class
specifier|public
class|class
name|RetrievalComponentConfiguration
block|{
specifier|private
specifier|final
name|Map
name|proxies
init|=
operator|new
name|HashMap
argument_list|()
decl_stmt|;
specifier|private
specifier|final
name|List
name|repos
init|=
operator|new
name|ArrayList
argument_list|()
decl_stmt|;
specifier|private
name|String
name|localStore
decl_stmt|;
specifier|private
name|String
name|serverName
decl_stmt|;
specifier|private
name|String
name|bgColor
decl_stmt|;
specifier|private
name|String
name|bgColorHighlight
decl_stmt|;
specifier|private
name|String
name|rowColor
decl_stmt|;
specifier|private
name|String
name|rowColorHighlight
decl_stmt|;
specifier|private
name|String
name|stylesheet
decl_stmt|;
specifier|private
name|boolean
name|searchable
decl_stmt|;
specifier|private
name|boolean
name|browsable
decl_stmt|;
specifier|private
name|int
name|port
decl_stmt|;
specifier|private
name|String
name|prefix
decl_stmt|;
specifier|private
name|boolean
name|snapshotUpdate
decl_stmt|;
specifier|private
name|boolean
name|metaDataUpdate
decl_stmt|;
specifier|private
name|boolean
name|pomUpdate
decl_stmt|;
specifier|private
name|String
name|lastModifiedDateFormat
decl_stmt|;
specifier|public
name|String
name|getPrefix
parameter_list|()
block|{
return|return
name|prefix
return|;
block|}
specifier|public
name|void
name|setPrefix
parameter_list|(
name|String
name|prefix
parameter_list|)
block|{
name|this
operator|.
name|prefix
operator|=
name|prefix
expr_stmt|;
block|}
comment|/**      * @return      */
specifier|public
name|boolean
name|isBrowsable
parameter_list|()
block|{
return|return
name|browsable
return|;
block|}
comment|/**      * @param browsable      */
specifier|public
name|void
name|setBrowsable
parameter_list|(
name|boolean
name|browsable
parameter_list|)
block|{
name|this
operator|.
name|browsable
operator|=
name|browsable
expr_stmt|;
block|}
specifier|public
name|int
name|getPort
parameter_list|()
block|{
return|return
name|port
return|;
block|}
specifier|public
name|void
name|setPort
parameter_list|(
name|int
name|port
parameter_list|)
block|{
name|this
operator|.
name|port
operator|=
name|port
expr_stmt|;
block|}
comment|/**      * @return      */
specifier|public
name|String
name|getLocalStore
parameter_list|()
block|{
return|return
name|localStore
return|;
block|}
comment|/**      * @param localStore      */
specifier|public
name|void
name|setLocalStore
parameter_list|(
name|String
name|localStore
parameter_list|)
block|{
name|this
operator|.
name|localStore
operator|=
name|localStore
expr_stmt|;
block|}
specifier|public
name|void
name|addProxy
parameter_list|(
name|MavenProxyConfiguration
name|pc
parameter_list|)
block|{
name|proxies
operator|.
name|put
argument_list|(
name|pc
operator|.
name|getKey
argument_list|()
argument_list|,
name|pc
argument_list|)
expr_stmt|;
block|}
specifier|public
name|void
name|removeProxy
parameter_list|(
name|String
name|key
parameter_list|)
block|{
name|proxies
operator|.
name|remove
argument_list|(
name|key
argument_list|)
expr_stmt|;
block|}
specifier|public
name|MavenProxyConfiguration
name|getProxy
parameter_list|(
name|String
name|key
parameter_list|)
block|{
return|return
operator|(
name|MavenProxyConfiguration
operator|)
name|proxies
operator|.
name|get
argument_list|(
name|key
argument_list|)
return|;
block|}
comment|/**      * There is no specific order to proxy configuration.      *      * @return      */
specifier|public
name|List
name|getProxies
parameter_list|()
block|{
return|return
operator|new
name|ArrayList
argument_list|(
name|proxies
operator|.
name|values
argument_list|()
argument_list|)
return|;
block|}
specifier|public
name|void
name|addRepo
parameter_list|(
name|RepoConfiguration
name|repo
parameter_list|)
block|{
name|repos
operator|.
name|add
argument_list|(
name|repo
argument_list|)
expr_stmt|;
block|}
specifier|public
name|List
name|getRepos
parameter_list|()
block|{
return|return
name|Collections
operator|.
name|unmodifiableList
argument_list|(
name|repos
argument_list|)
return|;
block|}
specifier|public
name|String
name|getServerName
parameter_list|()
block|{
return|return
name|serverName
return|;
block|}
specifier|public
name|void
name|setServerName
parameter_list|(
name|String
name|serverName
parameter_list|)
block|{
name|this
operator|.
name|serverName
operator|=
name|serverName
expr_stmt|;
block|}
specifier|public
name|void
name|setSnapshotUpdate
parameter_list|(
name|boolean
name|snapshotUpdate
parameter_list|)
block|{
name|this
operator|.
name|snapshotUpdate
operator|=
name|snapshotUpdate
expr_stmt|;
block|}
specifier|public
name|boolean
name|getSnapshotUpdate
parameter_list|()
block|{
return|return
name|snapshotUpdate
return|;
block|}
specifier|public
name|void
name|setMetaDataUpdate
parameter_list|(
name|boolean
name|metaDataUpdate
parameter_list|)
block|{
name|this
operator|.
name|metaDataUpdate
operator|=
name|metaDataUpdate
expr_stmt|;
block|}
specifier|public
name|boolean
name|getMetaDataUpdate
parameter_list|()
block|{
return|return
name|metaDataUpdate
return|;
block|}
specifier|public
name|void
name|setPOMUpdate
parameter_list|(
name|boolean
name|pomUpdate
parameter_list|)
block|{
name|this
operator|.
name|pomUpdate
operator|=
name|pomUpdate
expr_stmt|;
block|}
specifier|public
name|boolean
name|getPOMUpdate
parameter_list|()
block|{
return|return
name|pomUpdate
return|;
block|}
specifier|public
name|String
name|getLastModifiedDateFormat
parameter_list|()
block|{
return|return
name|lastModifiedDateFormat
return|;
block|}
specifier|public
name|void
name|setLastModifiedDateFormat
parameter_list|(
name|String
name|lastModifiedDateFormat
parameter_list|)
block|{
name|this
operator|.
name|lastModifiedDateFormat
operator|=
name|lastModifiedDateFormat
expr_stmt|;
block|}
specifier|public
name|boolean
name|isSearchable
parameter_list|()
block|{
return|return
name|searchable
return|;
block|}
specifier|public
name|void
name|setSearchable
parameter_list|(
name|boolean
name|searchable
parameter_list|)
block|{
name|this
operator|.
name|searchable
operator|=
name|searchable
expr_stmt|;
block|}
comment|/**      * @return the global repo configuration      */
specifier|public
name|GlobalRepoConfiguration
name|getGlobalRepo
parameter_list|()
block|{
for|for
control|(
name|Iterator
name|iter
init|=
name|repos
operator|.
name|iterator
argument_list|()
init|;
name|iter
operator|.
name|hasNext
argument_list|()
condition|;
control|)
block|{
name|RepoConfiguration
name|repo
init|=
operator|(
name|RepoConfiguration
operator|)
name|iter
operator|.
name|next
argument_list|()
decl_stmt|;
if|if
condition|(
name|repo
operator|instanceof
name|GlobalRepoConfiguration
condition|)
block|{
return|return
operator|(
name|GlobalRepoConfiguration
operator|)
name|repo
return|;
block|}
block|}
return|return
literal|null
return|;
block|}
specifier|private
name|ThreadLocal
name|dateFormatThreadLocal
init|=
operator|new
name|ThreadLocal
argument_list|()
block|{
specifier|protected
specifier|synchronized
name|Object
name|initialValue
parameter_list|()
block|{
name|DateFormat
name|df
decl_stmt|;
if|if
condition|(
name|getLastModifiedDateFormat
argument_list|()
operator|==
literal|null
operator|||
name|getLastModifiedDateFormat
argument_list|()
operator|==
literal|""
condition|)
block|{
name|df
operator|=
operator|new
name|SimpleDateFormat
argument_list|()
expr_stmt|;
block|}
else|else
block|{
name|df
operator|=
operator|new
name|SimpleDateFormat
argument_list|(
name|getLastModifiedDateFormat
argument_list|()
argument_list|)
expr_stmt|;
block|}
name|df
operator|.
name|setTimeZone
argument_list|(
name|TimeZone
operator|.
name|getTimeZone
argument_list|(
literal|"GMT"
argument_list|)
argument_list|)
expr_stmt|;
return|return
name|df
return|;
block|}
block|}
decl_stmt|;
comment|/**      * Retrieves and casts the appropriate DateFormat object from a ThreadLocal      *      * @return      */
specifier|public
name|DateFormat
name|getLastModifiedDateFormatForThread
parameter_list|()
block|{
return|return
operator|(
name|DateFormat
operator|)
name|dateFormatThreadLocal
operator|.
name|get
argument_list|()
return|;
block|}
specifier|public
name|String
name|getBgColor
parameter_list|()
block|{
return|return
name|bgColor
return|;
block|}
specifier|public
name|void
name|setBgColor
parameter_list|(
name|String
name|bgColor
parameter_list|)
block|{
name|this
operator|.
name|bgColor
operator|=
name|bgColor
expr_stmt|;
block|}
specifier|public
name|String
name|getBgColorHighlight
parameter_list|()
block|{
return|return
name|bgColorHighlight
return|;
block|}
specifier|public
name|void
name|setBgColorHighlight
parameter_list|(
name|String
name|bgColorHighlight
parameter_list|)
block|{
name|this
operator|.
name|bgColorHighlight
operator|=
name|bgColorHighlight
expr_stmt|;
block|}
specifier|public
name|String
name|getStylesheet
parameter_list|()
block|{
return|return
name|stylesheet
return|;
block|}
specifier|public
name|void
name|setStylesheet
parameter_list|(
name|String
name|stylesheet
parameter_list|)
block|{
name|this
operator|.
name|stylesheet
operator|=
name|stylesheet
expr_stmt|;
block|}
specifier|public
name|String
name|getRowColor
parameter_list|()
block|{
return|return
name|rowColor
return|;
block|}
specifier|public
name|void
name|setRowColor
parameter_list|(
name|String
name|rowColor
parameter_list|)
block|{
name|this
operator|.
name|rowColor
operator|=
name|rowColor
expr_stmt|;
block|}
specifier|public
name|String
name|getRowColorHighlight
parameter_list|()
block|{
return|return
name|rowColorHighlight
return|;
block|}
specifier|public
name|void
name|setRowColorHighlight
parameter_list|(
name|String
name|rowColorHighlight
parameter_list|)
block|{
name|this
operator|.
name|rowColorHighlight
operator|=
name|rowColorHighlight
expr_stmt|;
block|}
block|}
end_class

end_unit

