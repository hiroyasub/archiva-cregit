<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="css/jquery-ui-1.8.16.custom.css"/>
  <link rel="stylesheet" href="css/bootstrap.min.2.0.0.css">
  <link rel="stylesheet" href="css/archiva.css">


  <script type="text/javascript" src="js/jquery-1.7.js"></script>

  <script type="text/javascript" src="js/lab.js"></script>
  <script type="text/javascript" src="js/require.1.0.1.js"></script>
  <title>Apache Archiva</title>

</head>

<body style="padding-top: 20px;">

<div id="topbar-menu-container"></div>

<div class="container-fluid" style="min-height: 450px">
  <div class="sidebar" id="sidebar-content"></div>

  <div class="content">
    <div id="user-messages"></div>

    <div id="main-content">
    </div>

  </div>


</div>

<footer id="footer-content" style="vertical-align: bottom">
</footer>


<div id="html-fragments" class="hide"></div>

</body>

<div id="dialog-confirm" title="" style="display: none">
</div>



<script type="text/javascript">
appendArchivaVersion=function(){
  return "_archivaVersion="+window.archivaRuntimeInfo.version;
}
buildLoadJsUrl=function(srcScript){
  return srcScript+"?"+appendArchivaVersion();
}
$.ajax(
  {
    url: "restServices/archivaUiServices/runtimeInfoService/archivaRuntimeInfo",
    dataType: 'json',
    success:function(data){
        window.archivaDevMode=data.applicationRuntimeInfo.devMode;
        window.archivaJavascriptLog=data.applicationRuntimeInfo.javascriptLog;
        window.archivaRuntimeInfo=data.applicationRuntimeInfo;
        require.config({
            baseUrl: "js/"
          });
        // CacheBust is for dev purpose use false in prod env !
        var options = {
            AlwaysPreserveOrder:true,
            BasePath:"js/",
            explicit_preloading:false,
            CacheBust:window.archivaDevMode
        };
        $LAB.setGlobalDefaults(options);
        $LAB
           .script(buildLoadJsUrl("jquery.tmpl.js")).wait()
           .script(buildLoadJsUrl("archiva/utils.js")).wait()
           .script("jquery.i18n.properties-1.0.9.js").wait()
           .script(buildLoadJsUrl("archiva/i18nload.js")).wait()
           .script("jquery.cookie.1.0.0.js").wait()
           .script(buildLoadJsUrl("knockout-debug.js")).wait()
           .script("jquery-ui-1.8.16.custom.min.js").wait()
           .script(buildLoadJsUrl("jquery.validate.js")).wait()
           .script("jquery.json-2.3.min.js").wait()
           .script(buildLoadJsUrl("archiva/main-tmpl.js")).wait()
           .script(buildLoadJsUrl("archiva/repositories.js")).wait()
           .script(buildLoadJsUrl("archiva/network-proxies.js")).wait()
           .script(buildLoadJsUrl("archiva/proxy-connectors.js")).wait()
           .script(buildLoadJsUrl("redback/operation.js")).wait()
           .script(buildLoadJsUrl("redback/redback-tmpl.js")).wait()
           .script(buildLoadJsUrl("bootstrap.js"))
           .script(buildLoadJsUrl("knockout.simpleGrid.js"))
           //.script("knockout.mapping-latest.debug.js")
           .script(buildLoadJsUrl("redback/user.js")).wait()
           .script(buildLoadJsUrl("redback/users.js")).wait()
           .script(buildLoadJsUrl("redback/redback.js")).wait()
           .script(buildLoadJsUrl("redback/register.js")).wait()
           .script(buildLoadJsUrl("redback/permission.js")).wait()
           .script(buildLoadJsUrl("redback/resource.js")).wait()
           .script(buildLoadJsUrl("redback/roles.js")).wait()
           .script(buildLoadJsUrl("archiva/main.js"));
    }
  })
</script>

</html>
