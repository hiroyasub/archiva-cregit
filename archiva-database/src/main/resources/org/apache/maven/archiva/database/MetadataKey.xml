<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="MetadataKey">

<select id="getMetadataKey" resultClass="org.apache.maven.archiva.database.key.MetadataKey">
  SELECT 
    metadataKey as id    
    groupId 	as groupId,
    artifactId  as artifactId,
    version 	as version, 
  FROM MetadataKeys 
  WHERE metadataKey = #value# 
</select> 

<insert id="addMetadataKey" parameterClass="org.apache.maven.archiva.database.key.MetadataKey"> 
  INSERT INTO 
  MetadataKeys  ( groupId, artifactId, version ) 
  VALUES (#groupId#, #artifactId#, #version# ) 
</insert> 

</sqlMap>