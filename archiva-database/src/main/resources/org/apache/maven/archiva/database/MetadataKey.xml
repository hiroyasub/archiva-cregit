<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" 
"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="MetadataKey">

<select id="getMetadataKey" resultClass="org.apache.maven.archiva.database.key.MetadataKey">
  SELECT 
    METADATA_KEY as id    
    GROUP_ID 	as groupId,
    ARTIFACT_ID as artifactId,
    VERSION 	as version, 
  FROM METADATA_KEYS 
  WHERE METADATA_KEY = #value# 
</select> 

<insert id="addMetadataKey" parameterClass="org.apache.maven.archiva.database.key.MetadataKey"> 
  INSERT INTO 
  METADATA_KEYS  ( GROUP_ID, ARTIFACT_ID, VERSION_ID ) 
  VALUES (#groupId#, #artifactId#, #version# ) 
</insert> 

</sqlMap>